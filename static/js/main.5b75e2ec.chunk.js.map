{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","services/pixabay.js","App.js","index.js"],"names":["Searchbar","state","searchValue","handleSearchSubmit","e","preventDefault","console","log","props","onSubmit","setState","handleSearchChange","target","value","toLowerCase","className","this","type","name","autocomplete","autofocus","placeholder","onChange","Component","ImageGalleryItem","id","webformatURL","tags","largeImageURL","src","alt","Button","onClick","newPixabayFetch","_searchQuery","_page","perPage","fetch","page","axios","get","then","result","data","hits","catch","err","ImageGallery","searchResult","onLoadMore","searchPhotos","prevState","ScrollImages","window","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","resetPage","searchQuery","length","map","App","getFormSubmitValue","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5b75e2ec.chunk.js","sourcesContent":["import { Component } from \"react\";\n\nexport class Searchbar extends Component {\n  state = {\n    searchValue: \"\",\n  };\n\n  handleSearchSubmit = (e) => {\n    e.preventDefault();\n    console.log(\"before fetch\", this.state.searchValue);\n    this.props.onSubmit(this.state.searchValue);\n    this.setState({ searchValue: \"\" });\n  };\n\n  handleSearchChange = (e) => {\n    this.setState({ searchValue: e.target.value.toLowerCase() });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSearchSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            name=\"value\"\n            value={this.state.searchValue}\n            autocomplete=\"off\"\n            autofocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleSearchChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","export function ImageGalleryItem({ id, webformatURL, tags, largeImageURL }) {\n  return (\n    <li className=\"ImageGalleryItem\" key={id}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        data-img={largeImageURL}\n        className=\"ImageGalleryItem-image\"\n      />\n    </li>\n  );\n}\n","export function Button({ onClick }) {\n  return <button type=\"button\" onClick={onClick}>Load more</button>;\n}\n","import { Component } from \"react\";\nimport { PixabayFetch } from \"../../services/pixabay\";\nimport { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem\";\nimport { Button } from \"../Button/Button\";\n\nconst newPixabayFetch = new PixabayFetch();\n\nexport class ImageGallery extends Component {\n  state = {\n    searchResult: [],\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.value !== this.props.value) {\n      newPixabayFetch.resetPage();\n      newPixabayFetch.searchQuery = this.props.value;\n      newPixabayFetch.searchPhotos().then((searchResult) => {\n        this.setState({ searchResult });\n      });\n    }\n  \n  }\n\n  onLoadMore = () => {\n    newPixabayFetch.page = 1;\n    newPixabayFetch.searchPhotos().then((searchResult) => {\n      this.setState(prevState => ({\n        searchResult: [...prevState.searchResult, ...searchResult]\n      }))\n    }).then(this.ScrollImages);\n    \n  };\n\n    ScrollImages = () => {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n\n  render() {\n    return (\n      <>\n        <ul className=\"ImageGallery\">\n          {this.state.searchResult.length > 0 &&\n            this.state.searchResult.map(\n              ({ id, webformatURL, tags, largeImageURL }) => (\n                <ImageGalleryItem\n                  key={id}\n                  id={id}\n                  webformatURL={webformatURL}\n                  tags={tags}\n                  largeImageURL={largeImageURL}\n                />\n              )\n            )}\n        </ul>\n        {this.state.searchResult.length > 0 && <Button onClick={this.onLoadMore} />}\n        \n      </>\n    );\n  }\n}\n","import axios from \"axios\";\n\nexport class PixabayFetch {\n  constructor() {\n    this._searchQuery = \"\";\n    this._page = 1;\n    this.perPage = 12;\n  }\n\n  get searchQuery() {\n    return this._searchQuery;\n  }\n  set searchQuery(value) {\n    return (this._searchQuery = value);\n  }\n\n  get page() {\n    return this._page;\n  }\n  set page(value) {\n    return (this._page += value);\n  }\n\n  resetPage() {\n    return (this._page = 1)\n  }\n\n  searchPhotos() {\n    const url = \"https://pixabay.com/api/\";\n    const apiKey = \"23141272-55f7853bfecadbbcd9800c5ad\";\n    const params = `?key=${apiKey}&q=${this._searchQuery}&page=${this.page}&image_type=photo&orientation=horizontal&per_page=${this.perPage}`;\n    const fetch = url + params;\n    return axios\n      .get(fetch)\n      .then((result) => {\n        // console.log(result);\n        return result.data;\n      })\n      .then((data) => {\n        // console.log(data.hits);\n        return data.hits;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n}\n","import { Component } from \"react\";\nimport \"./App.css\";\nimport { Searchbar } from \"./components/Searchbar/Searchbar\";\nimport { ImageGallery } from \"./components/ImageGallery/ImageGallery\";\n\n\n\nclass App extends Component {\n  state = {\n    value: \"\",\n  };\n\n  getFormSubmitValue = (value) => {\n    this.setState({ value });\n  };\n\n  \n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.getFormSubmitValue} />\n        <ImageGallery value={this.state.value} />\n        \n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}